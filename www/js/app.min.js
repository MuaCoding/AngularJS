angular.module("AngularJS",["ngRoute","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,r,t,n,o){angular.forEach(o.interceptor,function(r){var t=r.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});t+="Controller",e.when("/"+r,{templateUrl:"templates/"+r+".html",reloadOnSearch:!1,controller:t,resolve:{user:["$q","$location","localStorageService",function(e,t,n){var o=["account"],a=e.defer();return o.includes(r)&&!n.get("token")?(a.reject(),t.path("/signin").replace(),void 0):(a.resolve(),a.promise)}]}})}),e.otherwise("/index"),r.defaults.useXDomain=!0,r.defaults.withCredentials=!0,delete r.defaults.headers.common["X-Requested-With"],n.setStorageCookie(.02),r.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("AngularJS").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,r,t,n,o){return{rsa_key:t._get(angular.extend({},o.common_params,{url:"key/private_key.pem"})),signin:t._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),signup:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/RegistTelOne"})),forget:t._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),reset:t._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),get_smscode:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/GetCode"})),query_basicinfo:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/userInfo",token:n.get("token")})),update_avatar:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateBgImg",token:n.get("token")})),update_userinfo:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateUserInfo",token:n.get("token")})),realname_authen:t._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:n.get("token")})),phone_authen:t._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:n.get("token")})),like:t._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:n.get("token")})),unlike:t._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:n.get("token")})),query_messages:t._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:n.get("token")})),query_message_by_id:t._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:n.get("token")})),query_city:t._get(angular.extend({},o.common_params,{url:"city/city_with_index.json",token:n.get("token")})),query_inter_city:t._get(angular.extend({},o.common_params,{url:"city/inter_city_with_index.json",token:n.get("token")})),query_language:t._get(angular.extend({},o.common_params,{url:"city/language.json",token:n.get("token")})),query_country_code:t._get(angular.extend({},o.common_params,{url:"city/country_code.json"})),query_industries:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/translateFieldList"})),create_edu_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/addUserEduExps",token:n.get("token")})),query_edu_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/userEduExperienceInfo",token:n.get("token")})),update_edu_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/editUserEduExps",token:n.get("token")})),remove_edu_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/deleteUserEduExps",token:n.get("token")})),create_work_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/addUserWorkExps",token:n.get("token")})),query_work_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/userUserWorkExpInfo",token:n.get("token")})),update_work_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/editUserWorkExps",token:n.get("token")})),remove_work_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/deleteUserWorkExps",token:n.get("token")})),create_cert_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/addUserIdentity",token:n.get("token")})),query_cert_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/userIdentityInfo",token:n.get("token")})),update_cert_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/editUserIdentity",token:n.get("token")})),remove_cert_experience:t._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/deleteUserIdentity",token:n.get("token")})),query_scenes:t._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/translateSceneList",token:n.get("token")})),query_schedule:t._get(angular.extend({},o.common_params,{url:o.url+"/app/ScheduleManage/scheduleList",token:n.get("token")})),mark_schedule:t._get(angular.extend({},o.common_params,{url:o.url+"/app/ScheduleManage/setTranslateTime",token:n.get("token")})),booking:t._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/makeOrder"})),query_qualified_translator:t._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/fullCompletelyUserList"})),query_unqualified_translator:t._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/maybeUserList"})),query_comments:t._get(angular.extend({},o.common_params,{url:o.url+"/app/Comments/myCommentList"})),comment:t._get(angular.extend({},o.common_params,{url:o.url+"/app/Comments/comment"})),query_comment_by_order:t._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/commentDetail"})),online_booking:t._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/submitOrder"})),query_orders:t._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/myOrderList"})),query_order:t._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/orderDetail"})),mark:t._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/setOrderType"}))}}]),angular.module("AngularJS").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,r,t,n,o){return{request:function(e){return e},requestError:function(){},response:function(n){var a=r.defer();return n.config.url.indexOf(".html")>0?n:n.data.code==o.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),t.remove("token"),e.path("/interpreter_settled").replace(),a.promise):n},responseError:function(e){var t=r.defer();return n.requestError(e.data,e.status,e.headers,e.config),t.promise}}}]),angular.module("AngularJS").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("AngularJS").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,r,t){return{show:function(r){e.error_msg=r,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(t){e.error_msg=t,$(".error-msg").show(),r(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,r,n,o){switch(t.hide(),r){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(r),console.log(e),console.log(n),console.log(o),console.log("onRequestError end")}}}]),angular.module("AngularJS").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices","config",function(e,r,t,n,o,a){var i=function(){},u=function(e,r,t){o.hide(),n.hide(),c(e,r,t)},l=function(){},c=function(){};return{init:function(){e.$on("$routeChangeStart",i),e.$on("$routeChangeSuccess",u),e.$on("$routeChangeError",l),e.go=function(e){t.path(e)},e.back=function(){r.history.back()},e.staticImageUrl=a.imageUrl}}}]),angular.module("AngularJS").factory("apiServices",["$http","localStorageService",function(e,r){return{_get:function(t){return function(n){return void 0!==t.token&&(t.token=r.get("token")),e({url:t.url,method:"GET",params:angular.extend({},t,n)}).then(function(e){return e.data})}},_post:function(t){return function(n){return void 0!==t.token&&(t.token=r.get("token")),e({url:t.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var r=[];for(var t in e)r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r.join("&")},data:angular.extend({},t,n)}).then(function(e){return e.data})}}}}]),angular.module("AngularJS").factory("AngularServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,r,t,n,o){return{rsa_key:t._get(angular.extend({},o.common_params,{url:"key/private_key.pem"}))}}]),angular.module("AngularJS").directive("uploader",["$timeout","localStorageService","toastServices","errorServices","config",function(e,r,t,n,o){return{restrict:"E",template:function(e,r){var t="",n=r.rate;return t="<imageview center-only data-rate='"+n+"' src='src'></imageview>"},controller:["$scope","$element","$attrs",function(e,n,a){var i,u;e.$on("flow::filesSubmitted",function(e,n){n.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return u=e,e}),i=(new Date).getTime()+u,n.opts.target=o.url+"/app/UserCenter/updatePic",n.opts.testChunks=!1,n.opts.fileParameterName="image_01",n.opts.query={invoke:"h5",token:r.get("token"),filename:i},t.show(),n.upload()}),e.$on("flow::fileAdded",function(){}),e.src="../images/default.png",a.default&&(e.src=a.default),a.$observe("src",function(r){r&&(e.src=o.imageUrl+r)}),e.$on("flow::fileSuccess",function(){e.src=o.imageUrl+i,t.hide()})}],link:function(){}}}]),angular.module("AngularJS").directive("showOnLoaded",function(){return{link:function(e,r){$(r).css({visibility:"hidden"}),r.bind("load",function(){console.log("loaded");var t=parseFloat(e.$eval($(r).parent().attr("data-rate")));if(!t)return console.log("unexpect rate"),void 0;var n=$(r).width()/$(r).height();t>n?$(r).css({height:"100%",width:"auto"}):$(r).css({height:"auto",width:"100%"}),$(r).parent().css({background:"none"}),$(r).css({visibility:"visible"})})}}}),angular.module("AngularJS").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,r){e.$last&&e.$emit("onRepeatDone",r)}}}),angular.module("AngularJS").directive("onload",function(){return{restrict:"A",link:function(e,r){$(r).css({opacity:0}),$(r).bind("load",function(){$(r).css({opacity:1})})}}}),angular.module("AngularJS").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' placeholder='{{options.placeholder}}' class='full-width' readonly ng-model='options.value'>",link:function(r,t){var n={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){r.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(t).find("input").datePicker(angular.extend({},n,r.options))},0)}}}]),angular.module("AngularJS").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"="},controller:["$scope","$element","$attrs",function(r,t,n){function o(e){$(e.target).css({width:"auto",height:"auto"});var t=$(e.target),n=t.width(),o=t.height(),a=parseFloat(n)/parseFloat(o);a<r.rate?(n=r.width,o=r.width/a,t.css({display:"inline-block",height:o,width:n,"margin-top":-(o-r.height)/2})):(o=r.height,n=o*a,t.css({display:"inline-block",height:o,width:n,"margin-left":-(n-r.width)/2})),t.parent().css({background:"none"}),t.css({visibility:"visible"})}function a(e){var t=$(e.target),n=t.width(),o=t.height(),a=parseFloat(n)/parseFloat(o);a<r.rate?t.css({display:"inline-block",height:"100%",width:"auto"}):t.css({display:"inline-block",height:"auto",width:"100%"}),t.parent().css({background:"none"}),t.css({visibility:"visible"})}return r.bg_image="../images/default.png",r.rate=parseFloat(n.rate),r.width=t.parent().width()||$(window).width(),r.height=r.width/r.rate,r.rate?(this.show_center_on_loaded=function(r){o(r),e(function(){o(r)},100)},this.show_on_loaded=function(r){a(r),e(function(){a(r)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var r="<img ng-src='{{src}}' show-center-on-loaded err-src='../images/default.png'>";return void 0==$(e).attr("center-only")&&(r="<img ng-src='{{src}}' show-on-loaded err-src='../images/default.png'>"),r},link:function(e,r){var t={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.bg_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(r).css(t)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,r,t,n){r.bind("load",n.show_on_loaded)}}}).directive("showCenterOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,r,t,n){r.bind("load",n.show_center_on_loaded)}}}),angular.module("AngularJS").directive("dribehanceHeader",function(){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(){}}}),angular.module("AngularJS").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("AngularJS").directive("errSrc",function(){return{restrict:"A",link:function(e,r,t){$(r).bind("error",function(){$(r).attr("src",t.errSrc)})}}}),angular.module("AngularJS").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(r,t){function n(){var t=r.countdown.message,n=parseFloat(r.countdown.count)?parseFloat(r.countdown.count):60;o=!0,r.$apply(function(){r.countdown.message=n--,r.countdown.message=n+"s重新获取",r.countdown.mode="disabled",r.countdown.reset=!1,r.countdown.callback()});var a=e(function(){r.countdown.message=n--,r.countdown.message=n+"s重新获取",(0>n||r.countdown.reset)&&(e.cancel(a),r.countdown.message=t,o=!1)},1e3)}var o=!1;$(t).bind("click",function(){r.disabled||o||n()})}}}]),angular.module("AngularJS").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,r){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(r).show()},cancel:function(){$(r).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(r).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("AngularJS").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,r){var t={autoplay:!0,items:1};t=angular.extend({},t,e.$eval($(r).attr("data-options")));var n=parseFloat(e.$eval($(r).attr("data-rate"))),o={display:"block",width:$(r).parent().width()||$(window).width(),height:($(r).parent().width()||$(window).width())/n};$(r).css(o),e.$on("onRepeatDone",function(){$(r).find(".carousel-holder").owlCarousel(t)})}}}),angular.module("AngularJS").controller("indexController",["$scope","$filter","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("AngularJS").controller("editController",["$scope","$filter","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("AngularJS").constant("config",{url:"http://",imageUrl:"http://",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5",app_sign:"123456"},interceptor:["index","edit"]});
//# sourceMappingURL=app.min.js.map
